#!/usr/bin/env bash

# Show the root git directory.

set -eu

path=${1:-$PWD}

if [[ -f $path ]]; then
    path=$(dirname "$path")
fi

while [[ -d $path && ! -e $path/.git ]]; do
    path+=/..
done

if [[ ! -d $path ]]; then
    echo "ERROR: No git repository found!" >&2
    exit 1
fi

realpath "$path"

#!/usr/bin/env bash

# Create a directory and move the given files into it.
# If no files are given, it behaves exactly like mkdir -p.
# Usage: mkmv DIRECTORY [FILE...]

set -euo pipefail

if [[ ! -v 1 ]]; then
    printf "The first argument must be a directory\n" >&2
    exit 1
fi

dir=$1

shift

mkdir -p "$dir"

if (($# > 0)); then
    mv -nv "$@" "$dir"
fi

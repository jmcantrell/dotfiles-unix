#!/usr/bin/env bash

# Paste lines to a shareable URL.
# Usage: pastebin /path/to/file...
#        command-with-output | pastebin

set -eu

for file in "${@:-/dev/stdin}"; do
    ext=${file##*/}
    ext=${ext##*.}
    url=$(curl --data-binary @"$file" https://paste.rs)
    echo "$url${ext:+.$ext}"
done

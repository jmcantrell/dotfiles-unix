#!/usr/bin/env bash

# Decode URL-encoded arguments (or stdin lines).

set -eu

decode() {
    local arg=${1//+/ }
    printf "%b\n" "${arg//%/\\x}"
}

if (($# == 0)); then
    while read -r line; do
        decode "$line"
    done
else
    for arg in "$@"; do
        decode "$arg"
    done
fi

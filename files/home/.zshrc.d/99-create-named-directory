# Create a named directory, with optional aliases and completion.
create_named_directory() {
    local name=$1
    local directory=$2
    shift 2

    eval "
    $name=${(q)directory}

    hash -d $name=${(q)directory}

    cd$name() {
        cd ${(q)directory}/\$1
    }

    _cd$name() {
        ((CURRENT == 2)) && _files -/ -W ${(q)directory}
    }

    compdef _cd$name cd$name
    "

    local aka
    for aka in $@; do
        eval "alias cd$aka=cd$name"
    done
}

# vi:ft=zsh

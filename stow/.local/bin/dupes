#!/usr/bin/env bash

# Find and output groups of duplicate files.

set -eu

find "$@" -type f | sort |              # sort initial files
    xargs -r -I{} md5sum {} |           # prepend the checksum
    uniq -w32 --all-repeated=separate | # group the duplicates
    awk '{print $2}'                    # remove the checksum

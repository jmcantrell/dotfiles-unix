#!/usr/bin/env bash

# Show the root git directory.

set -euo pipefail

dir=${1:-$PWD}

# In case the command target is a file.
[[ -d $dir ]] || dir=$(dirname "$dir")

# check each parent for the git directory
while [[ -d $dir && ! -d $dir/.git ]]; do
    dir+=/..
done

[[ -d $dir ]] && realpath "$dir"

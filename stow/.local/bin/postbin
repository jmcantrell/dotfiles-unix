#!/usr/bin/env bash

set -euo pipefail

src=${1:?first argument must be the item to post}
shift

if (($# == 0)); then
    if [[ $src == http://* || $src == https://* ]]; then
        action="url"
    else
        action="file"
    fi
else
    action=$1
fi

exec curl -F "$action=$src" https://0x0.st

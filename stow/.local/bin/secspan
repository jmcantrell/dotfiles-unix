#!/usr/bin/env bash

# Display seconds in a human readable format.
# Usage: secspan SECONDS
#        secspan 3600    # 1h
#        secspan 93784   # 1d 2h 3m 4s
#        secspan 604800  # 7d

seconds=${1:-0}

minute=60
hour=$((minute * 60))
day=$((hour * 24))

days=$((seconds / day))
seconds=$((seconds - (days * day)))

hours=$((seconds / hour))
seconds=$((seconds - (hours * hour)))

minutes=$((seconds / minute))
seconds=$((seconds - (minutes * minute)))

unset summary

[[ $days -gt 0 ]] && summary+=" ${days}d"
[[ $hours -gt 0 ]] && summary+=" ${hours}h"
[[ $minutes -gt 0 ]] && summary+=" ${minutes}m"
[[ $seconds -gt 0 ]] && summary+=" ${seconds}s"

echo "${summary## }"

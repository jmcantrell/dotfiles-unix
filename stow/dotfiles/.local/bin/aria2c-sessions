#!/usr/bin/env bash

# Choose an aria2 transfer session to resume.

dir=${TMPDIR:-$PWD}

readarray -t sessions < <(find "$dir" -type f -name "aria2c-session.*")

if (( ${#sessions} == 0 )); then
	{
		echo "No sessions found in $dir."
		echo "Resume a specific session file with:"
		echo "aria2c-resume /path/to/sessionfile"
	} >&2
	exit 1
fi

echo "Resume which session?" >&2
select session in "${sessions[@]}"; do
	aria2c-resume "$session" "$@"
	break
done
